{"ast":null,"code":"import _slicedToArray from\"D:/PersonalProjects/React_CV/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{connect}from'react-redux';import{getProject}from'../../actions/project';import $ from'jquery';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Project=function Project(_ref){var getProject=_ref.getProject,project=_ref.project,loading=_ref.loading,error=_ref.error;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),projBool=_useState2[0],setProjBool=_useState2[1];useEffect(function(){if(projBool===false){getProject();setProjBool(true);}else{setTimeout(function(){getProject();},5000);}$(\"[id^=viewimg]\").on(\"click\",function(){var parent=$(this).parent().parent();var imgtoview=parent.children(\"#projimg\").attr(\"src\");var previewer=$(\".img-previewer\");previewer.css(\"display\",\"flex\");$(\"#imgprev\").attr(\"src\",imgtoview);$(\"#closePreviewer\").on(\"click\",function(){previewer.css(\"display\",\"none\");});});},[project]);var projects=\"\";loading===false&&project!=={}&&(projects=project.data.map(function(proj,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"image\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"uploads/\".concat(proj.project_img),id:\"projimg\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"image-info\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-expand fa-lg zlatan\",id:\"viewimg\",children:\" \"}),/*#__PURE__*/_jsxs(\"p\",{children:[\" \",proj.project_desc,\" \"]})]})]},index);}));return/*#__PURE__*/_jsxs(\"div\",{className:\"cv-section\",id:\"gallery-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\" Projects \"}),/*#__PURE__*/_jsxs(\"div\",{id:\"gallery-section\",children:[\" \",projects,\" \"]})]});};var mapStateToProps=function mapStateToProps(state){return{project:state.project.project,loading:state.project.loading,error:state.project.error};};export default connect(mapStateToProps,{getProject:getProject})(Project);","map":{"version":3,"sources":["D:/PersonalProjects/React_CV/client/src/components/CVInfo/Project.js"],"names":["React","useEffect","useState","connect","getProject","$","Project","project","loading","error","projBool","setProjBool","setTimeout","on","parent","imgtoview","children","attr","previewer","css","projects","data","map","proj","index","project_img","project_desc","mapStateToProps","state"],"mappings":"0JAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,OAAT,KAAwB,aAAxB,CAEA,OAASC,UAAT,KAA2B,uBAA3B,CACA,MAAOC,CAAAA,CAAP,KAAc,QAAd,C,wFACA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,MAA6C,IAA1CF,CAAAA,UAA0C,MAA1CA,UAA0C,CAA9BG,OAA8B,MAA9BA,OAA8B,CAArBC,OAAqB,MAArBA,OAAqB,CAAZC,KAAY,MAAZA,KAAY,CACzD,cAAgCP,QAAQ,CAAC,KAAD,CAAxC,wCAAOQ,QAAP,eAAiBC,WAAjB,eACAV,SAAS,CAAC,UAAM,CACZ,GAAIS,QAAQ,GAAK,KAAjB,CAAwB,CACpBN,UAAU,GACVO,WAAW,CAAC,IAAD,CAAX,CACH,CAHD,IAGO,CACHC,UAAU,CAAC,UAAM,CACbR,UAAU,GACb,CAFS,CAEP,IAFO,CAAV,CAGH,CAGDC,CAAC,CAAC,eAAD,CAAD,CAAmBQ,EAAnB,CAAsB,OAAtB,CAA+B,UAAW,CACtC,GAAIC,CAAAA,MAAM,CAAGT,CAAC,CAAC,IAAD,CAAD,CAAQS,MAAR,GAAiBA,MAAjB,EAAb,CACA,GAAIC,CAAAA,SAAS,CAAGD,MAAM,CAACE,QAAP,CAAgB,UAAhB,EAA4BC,IAA5B,CAAiC,KAAjC,CAAhB,CACA,GAAIC,CAAAA,SAAS,CAAGb,CAAC,CAAC,gBAAD,CAAjB,CACAa,SAAS,CAACC,GAAV,CAAc,SAAd,CAAyB,MAAzB,EACAd,CAAC,CAAC,UAAD,CAAD,CAAcY,IAAd,CAAmB,KAAnB,CAA0BF,SAA1B,EACAV,CAAC,CAAC,iBAAD,CAAD,CAAqBQ,EAArB,CAAwB,OAAxB,CAAiC,UAAW,CACxCK,SAAS,CAACC,GAAV,CAAc,SAAd,CAAyB,MAAzB,EACH,CAFD,EAGH,CATD,EAUH,CArBQ,CAqBN,CAACZ,OAAD,CArBM,CAAT,CAyBA,GAAIa,CAAAA,QAAQ,CAAG,EAAf,CAEAZ,OAAO,GAAK,KAAZ,EAAqBD,OAAO,GAAK,EAAjC,GACIa,QAAQ,CAAGb,OAAO,CAACc,IAAR,CAAaC,GAAb,CAAiB,SAACC,IAAD,CAAOC,KAAP,CAAiB,CACzC,mBACA,aAAoB,SAAS,CAAG,OAAhC,wBACI,YAAK,GAAG,mBAAgBD,IAAI,CAACE,WAArB,CAAR,CAA4C,EAAE,CAAG,SAAjD,EADJ,cAEI,aAAK,SAAS,CAAG,YAAjB,wBACI,UAAG,SAAS,CAAG,4BAAf,CAA2C,EAAE,CAAG,SAAhD,eADJ,cAEI,yBAAMF,IAAI,CAACG,YAAX,OAFJ,GAFJ,GAAaF,KAAb,CADA,CASH,CAVU,CADf,EAeA,mBACI,aAAK,SAAS,CAAG,YAAjB,CAA6B,EAAE,CAAG,cAAlC,wBACI,kCADJ,cAEI,aAAK,EAAE,CAAG,iBAAV,eAAgCJ,QAAhC,OAFJ,GADJ,CAMH,CAlDD,CAwDA,GAAMO,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,QAAK,CAC9BrB,OAAO,CAAEqB,KAAK,CAACrB,OAAN,CAAcA,OADO,CAE9BC,OAAO,CAAEoB,KAAK,CAACrB,OAAN,CAAcC,OAFO,CAG9BC,KAAK,CAAEmB,KAAK,CAACrB,OAAN,CAAcE,KAHS,CAAL,EAA7B,CAKA,cAAeN,CAAAA,OAAO,CAACwB,eAAD,CAAkB,CAAEvB,UAAU,CAAVA,UAAF,CAAlB,CAAP,CAAyCE,OAAzC,CAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport { getProject } from '../../actions/project'\r\nimport $ from 'jquery'\r\nconst Project = ({ getProject, project, loading, error }) => {\r\n    const [projBool, setProjBool] = useState(false)\r\n    useEffect(() => {\r\n        if (projBool === false) {\r\n            getProject()\r\n            setProjBool(true)\r\n        } else {\r\n            setTimeout(() => {\r\n                getProject()\r\n            }, 5000)\r\n        }\r\n\r\n\r\n        $(\"[id^=viewimg]\").on(\"click\", function() {\r\n            var parent = $(this).parent().parent()\r\n            var imgtoview = parent.children(\"#projimg\").attr(\"src\")\r\n            var previewer = $(\".img-previewer\")\r\n            previewer.css(\"display\", \"flex\")\r\n            $(\"#imgprev\").attr(\"src\", imgtoview)\r\n            $(\"#closePreviewer\").on(\"click\", function() {\r\n                previewer.css(\"display\", \"none\")\r\n            });\r\n        });\r\n    }, [project])\r\n\r\n\r\n\r\n    let projects = \"\"\r\n\r\n    loading === false && project !== {} && (\r\n        projects = project.data.map((proj, index) => {\r\n            return ( \r\n            <div key = { index }className = \"image\" >\r\n                <img src = { `uploads/${proj.project_img}` }id = \"projimg\" / >\r\n                <div className = \"image-info\" >\r\n                    <i className = \"fas fa-expand fa-lg zlatan\"id = \"viewimg\" > </i> \r\n                    <p> { proj.project_desc } </p> \r\n                    </div> \r\n                </div>\r\n            )\r\n        })\r\n    )\r\n\r\n\r\n    return ( \r\n        <div className = \"cv-section\"id = \"gallery-info\" >\r\n            <h3> Projects </h3> \r\n            <div id = \"gallery-section\" > { projects } </div> \r\n            </div>\r\n    )\r\n}\r\nProject.propTypes = {\r\n    getProject: PropTypes.func.isRequired,\r\n    project: PropTypes.object.isRequired,\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    project: state.project.project,\r\n    loading: state.project.loading,\r\n    error: state.project.error\r\n})\r\nexport default connect(mapStateToProps, { getProject })(Project)"]},"metadata":{},"sourceType":"module"}